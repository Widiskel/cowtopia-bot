const a3_0x164303=a3_0xcf27;(function(_0x4be910,_0x188e90){const _0xf11c93=a3_0xcf27,_0x10b5d4=_0x4be910();while(!![]){try{const _0x199a52=-parseInt(_0xf11c93(0xc6))/0x1+-parseInt(_0xf11c93(0xdf))/0x2*(parseInt(_0xf11c93(0xf5))/0x3)+parseInt(_0xf11c93(0xca))/0x4+parseInt(_0xf11c93(0xd8))/0x5*(parseInt(_0xf11c93(0xdb))/0x6)+-parseInt(_0xf11c93(0xc8))/0x7+parseInt(_0xf11c93(0xbf))/0x8+-parseInt(_0xf11c93(0xe3))/0x9*(-parseInt(_0xf11c93(0xe7))/0xa);if(_0x199a52===_0x188e90)break;else _0x10b5d4['push'](_0x10b5d4['shift']());}catch(_0x517802){_0x10b5d4['push'](_0x10b5d4['shift']());}}}(a3_0x8d4e,0xd0a51));import a3_0x25b9b0 from'input';import{Helper}from'../utils/helper.js';function a3_0x8d4e(){const _0x22da74=['error','Session\x20','url','resolvePeer','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','RequestWebView','destroy','260oajcVg','Your\x20session\x20List\x20:\x0a\x20\x0a','getSession','25518omiyTu','client','initWebView','disconnect','367978TQSRGC','getEntity','delay','text','10024389AqQPfl','https://cowtopia-prod.tonfarmer.com/','invoke','sessionCreation','10BCHfcx','stringify','length','start','save','log','message','android','info','\x20-\x20Created','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','warn','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','21QuEljA','storeSession','TELEGRAM_APP_HASH','\x20-\x20Webview\x20Connected','resetSession','seconds','init','8629760XwcXfD','messages','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','Invalid\x20input,\x20Please\x20try\x20again','cowtopiabot','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','171271VqapSz','useSession','7136458BcOWKi','session','3678400wePcBD','createDir','getTelegramQuery','peer','sessions','sessionName','onBoarding'];a3_0x8d4e=function(){return _0x22da74;};return a3_0x8d4e();}import{Api,TelegramClient}from'telegram';function a3_0xcf27(_0x59a7f1,_0x49fd0e){const _0x8d4ea9=a3_0x8d4e();return a3_0xcf27=function(_0xcf27a2,_0xcac37d){_0xcf27a2=_0xcf27a2-0xb9;let _0x48792d=_0x8d4ea9[_0xcf27a2];return _0x48792d;},a3_0xcf27(_0x59a7f1,_0x49fd0e);}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x7da209 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';export class Telegram{[a3_0x164303(0xb9)];constructor(){const _0x390848=a3_0x164303;this[_0x390848(0xcf)]=_0x390848(0xce),this[_0x390848(0xd3)]=_0x390848(0xe4);}async['init'](){const _0x524f0c=a3_0x164303;try{await this['onBoarding']();}catch(_0x218a94){console['log'](_0x218a94),a3_0x7da209['error'](''+JSON[_0x524f0c(0xe8)](_0x218a94));throw _0x218a94;}}async[a3_0x164303(0xd0)](){const _0x1ff0ac=a3_0x164303;try{let _0x4bb16f=_0x1ff0ac(0xf4);const _0x30de37=Helper[_0x1ff0ac(0xda)](_0x1ff0ac(0xce));if(_0x30de37[_0x1ff0ac(0xe9)]==0x0)_0x4bb16f+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:';else for(const _0x52bd00 of _0x30de37){_0x4bb16f+='-\x20'+_0x52bd00+'\x0a';}_0x4bb16f+=_0x1ff0ac(0xc1),_0x4bb16f+=_0x1ff0ac(0xf3);const _0x1cabeb=await a3_0x25b9b0[_0x1ff0ac(0xe2)](_0x4bb16f);if(_0x1cabeb==0x1)await this[_0x1ff0ac(0xe6)]();else{if(_0x1cabeb==0x2)Helper[_0x1ff0ac(0xbc)](this[_0x1ff0ac(0xcf)]),await Helper['delay'](0xbb8),await this[_0x1ff0ac(0xd0)]();else _0x1cabeb==0x3?Helper['getSession'](this[_0x1ff0ac(0xcf)])?.[_0x1ff0ac(0xe9)]==0x0&&(console[_0x1ff0ac(0xef)](_0x1ff0ac(0xd5)),await this[_0x1ff0ac(0xd0)]()):(console[_0x1ff0ac(0xd1)](_0x1ff0ac(0xc3)),await this[_0x1ff0ac(0xd0)]());}}catch(_0x12ca5a){throw _0x12ca5a;}}async[a3_0x164303(0xe6)](){const _0xaa85f8=a3_0x164303;try{const _0x352006=Helper['getSession'](_0xaa85f8(0xce));let _0x4839f7=_0xaa85f8(0xd9);for(const _0x208234 of _0x352006){_0x4839f7+=_0x352006['indexOf'](_0x208234)+0x1+'.\x20'+_0x208234+'\x0a';}_0x352006[_0xaa85f8(0xe9)]==0x0?_0x4839f7+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x4839f7+=_0xaa85f8(0xf1);const _0x5b0f03=await a3_0x25b9b0[_0xaa85f8(0xe2)](_0x4839f7);this[_0xaa85f8(0xcf)]=Helper[_0xaa85f8(0xcb)](_0x5b0f03),await this['useSession'](this[_0xaa85f8(0xcf)]),await this['disconnect'](),a3_0x7da209[_0xaa85f8(0xef)]('Session\x20'+this[_0xaa85f8(0xcf)]+_0xaa85f8(0xf0)),console[_0xaa85f8(0xec)]('Session\x20'+this[_0xaa85f8(0xcf)]+_0xaa85f8(0xf0)),this[_0xaa85f8(0xb9)][_0xaa85f8(0xeb)](),await Helper[_0xaa85f8(0xe1)](0xbb8),await this[_0xaa85f8(0xbe)]();}catch(_0x1434be){throw _0x1434be;}}async[a3_0x164303(0xc7)](_0x54ffb3){const _0xee0d70=a3_0x164303;try{this[_0xee0d70(0xb9)]=new StoreSession(_0x54ffb3),this[_0xee0d70(0xdc)]=new TelegramClient(this[_0xee0d70(0xb9)],Config['TELEGRAM_APP_ID'],Config[_0xee0d70(0xba)],{'connectionRetries':0x5}),this['storeSession']['save'](),await this[_0xee0d70(0xdc)][_0xee0d70(0xea)]({'phoneNumber':async()=>await a3_0x25b9b0[_0xee0d70(0xe2)](_0xee0d70(0xc2)),'password':async()=>await a3_0x25b9b0[_0xee0d70(0xe2)]('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x25b9b0['text'](_0xee0d70(0xc5)),'onError':_0x197912=>{const _0x55299c=_0xee0d70;console[_0x55299c(0xec)](_0x197912[_0x55299c(0xed)]);}}),console[_0xee0d70(0xec)]();}catch(_0xc91039){throw _0xc91039;}}async[a3_0x164303(0xd4)](){const _0x3c6946=a3_0x164303;try{a3_0x7da209[_0x3c6946(0xef)](_0x3c6946(0xd2)+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x3c6946(0xcd)]==undefined){try{this[_0x3c6946(0xcd)]=await this[_0x3c6946(0xdc)][_0x3c6946(0xe0)](_0x3c6946(0xc4));break;}catch(_0x1415b0){if(_0x1415b0 instanceof FloodWaitError){const _0x4fe264=_0x1415b0[_0x3c6946(0xbd)];a3_0x7da209[_0x3c6946(0xf2)](this[_0x3c6946(0xdc)][_0x3c6946(0xc9)]['serverAddress']+'\x20|\x20FloodWait\x20'+_0x1415b0),a3_0x7da209[_0x3c6946(0xef)](this[_0x3c6946(0xdc)][_0x3c6946(0xc9)]['serverAddress']+'\x20|\x20Sleep\x20'+_0x4fe264+'s'),await Helper['delay']((_0x4fe264+0x3)*0x3e8);}else throw _0x1415b0;}}}catch(_0x52ef85){throw _0x52ef85;}}async['disconnect'](){const _0x17d0dc=a3_0x164303;await this[_0x17d0dc(0xdc)][_0x17d0dc(0xde)](),await this['client'][_0x17d0dc(0xd7)](),this[_0x17d0dc(0xcd)]=undefined,this[_0x17d0dc(0xcf)]=undefined;}async[a3_0x164303(0xdd)](){const _0x5c3334=a3_0x164303;try{const _0x2ec3f7=await this[_0x5c3334(0xdc)][_0x5c3334(0xe5)](new Api[(_0x5c3334(0xc0))][(_0x5c3334(0xd6))]({'peer':this['peer'],'bot':this[_0x5c3334(0xcd)],'fromBotMenu':!![],'url':this[_0x5c3334(0xd3)],'platform':_0x5c3334(0xee)}));a3_0x7da209[_0x5c3334(0xef)]('Session\x20'+this['session']+_0x5c3334(0xbb));const _0x342fc4=_0x2ec3f7['url'];return Helper[_0x5c3334(0xcc)](_0x342fc4,0x3);}catch(_0x1566ff){throw _0x1566ff;}}}
const a3_0x39ea5f=a3_0x5ab2;function a3_0x3ec6(){const _0x4ecbc4=['TELEGRAM_APP_HASH','delay','start','createDir','init','client','getEntity','4QgPZqY','\x20|\x20FloodWait\x20','disconnect','4398132OYsdPO','sessionCreation','getSession','messages','text','sessionName','onBoarding','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','44GQJpJq','4728420VmnfxM','cowtopiabot','length','5386952oiacpC','14RGurAj','Invalid\x20input,\x20Please\x20try\x20again','warn','save','getTelegramQuery','https://cowtopia-prod.tonfarmer.com/','1079592rrJyQj','5820bFBxJn','4EfwNZm','log','initWebView','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','sessions','serverAddress','Enter\x20your\x20Telegram\x20Password?','url','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','error','3156519lwCTuT','storeSession','Your\x20session\x20List\x20:\x0a\x20\x0a','session','3834cOVpxO','useSession','692474kqigDP','peer','android','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','resolvePeer','\x20|\x20Sleep\x20','destroy','Session\x20','RequestWebView','\x20-\x20Created','info','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:'];a3_0x3ec6=function(){return _0x4ecbc4;};return a3_0x3ec6();}(function(_0x5dea26,_0x356781){const _0x3a04ea=a3_0x5ab2,_0x3ce798=_0x5dea26();while(!![]){try{const _0x1b72eb=parseInt(_0x3a04ea(0x102))/0x1*(parseInt(_0x3a04ea(0xd9))/0x2)+-parseInt(_0x3a04ea(0xfc))/0x3+parseInt(_0x3a04ea(0xf1))/0x4*(-parseInt(_0x3a04ea(0xe5))/0x5)+-parseInt(_0x3a04ea(0xef))/0x6*(-parseInt(_0x3a04ea(0xe9))/0x7)+-parseInt(_0x3a04ea(0xe8))/0x8+parseInt(_0x3a04ea(0x100))/0x9*(parseInt(_0x3a04ea(0xf0))/0xa)+-parseInt(_0x3a04ea(0xe4))/0xb*(-parseInt(_0x3a04ea(0xdc))/0xc);if(_0x1b72eb===_0x356781)break;else _0x3ce798['push'](_0x3ce798['shift']());}catch(_0x2500dc){_0x3ce798['push'](_0x3ce798['shift']());}}}(a3_0x3ec6,0xc046a));import a3_0x3441bd from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x15b3c3 from'../utils/logger.js';function a3_0x5ab2(_0x3bae3d,_0x54f3d8){const _0x3ec68f=a3_0x3ec6();return a3_0x5ab2=function(_0x5ab2bd,_0x33dd53){_0x5ab2bd=_0x5ab2bd-0xcb;let _0x23f16f=_0x3ec68f[_0x5ab2bd];return _0x23f16f;},a3_0x5ab2(_0x3bae3d,_0x54f3d8);}import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';export class Telegram{[a3_0x39ea5f(0xfd)];constructor(){const _0x24f87d=a3_0x39ea5f;this[_0x24f87d(0xe1)]=_0x24f87d(0xf5),this[_0x24f87d(0xf8)]=_0x24f87d(0xee);}async[a3_0x39ea5f(0xd6)](){const _0x3488d8=a3_0x39ea5f;try{await this[_0x3488d8(0xe2)]();}catch(_0x3f2e9e){console[_0x3488d8(0xf2)](_0x3f2e9e),a3_0x15b3c3[_0x3488d8(0xfb)](''+JSON['stringify'](_0x3f2e9e));throw _0x3f2e9e;}}async[a3_0x39ea5f(0xe2)](){const _0x4bfdcc=a3_0x39ea5f;try{let _0x33b80a=_0x4bfdcc(0x105);const _0x26bee5=Helper[_0x4bfdcc(0xde)](_0x4bfdcc(0xf5));if(_0x26bee5['length']==0x0)_0x33b80a+=_0x4bfdcc(0xd1);else for(const _0x1d359f of _0x26bee5){_0x33b80a+='-\x20'+_0x1d359f+'\x0a';}_0x33b80a+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x33b80a+=_0x4bfdcc(0xf9);const _0x8b3248=await a3_0x3441bd[_0x4bfdcc(0xe0)](_0x33b80a);if(_0x8b3248==0x1)await this[_0x4bfdcc(0xdd)]();else{if(_0x8b3248==0x2)Helper['resetSession'](this[_0x4bfdcc(0xe1)]),await Helper[_0x4bfdcc(0xd3)](0xbb8),await this[_0x4bfdcc(0xe2)]();else _0x8b3248==0x3?Helper[_0x4bfdcc(0xde)](this[_0x4bfdcc(0xe1)])?.[_0x4bfdcc(0xe7)]==0x0&&(console[_0x4bfdcc(0xd0)](_0x4bfdcc(0xf4)),await this[_0x4bfdcc(0xe2)]()):(console[_0x4bfdcc(0xfb)](_0x4bfdcc(0xea)),await this[_0x4bfdcc(0xe2)]());}}catch(_0x5dea29){throw _0x5dea29;}}async[a3_0x39ea5f(0xdd)](){const _0x550957=a3_0x39ea5f;try{const _0x545691=Helper[_0x550957(0xde)](_0x550957(0xf5));let _0x12f482=_0x550957(0xfe);for(const _0x589c3c of _0x545691){_0x12f482+=_0x545691['indexOf'](_0x589c3c)+0x1+'.\x20'+_0x589c3c+'\x0a';}_0x545691[_0x550957(0xe7)]==0x0?_0x12f482+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x12f482+=_0x550957(0xfa);const _0x1e10c2=await a3_0x3441bd[_0x550957(0xe0)](_0x12f482);this[_0x550957(0xe1)]=Helper[_0x550957(0xd5)](_0x1e10c2),await this[_0x550957(0x101)](this[_0x550957(0xe1)]),await this[_0x550957(0xdb)](),a3_0x15b3c3[_0x550957(0xd0)]('Session\x20'+this[_0x550957(0xe1)]+'\x20-\x20Created'),console[_0x550957(0xf2)](_0x550957(0xcd)+this['sessionName']+_0x550957(0xcf)),this['storeSession'][_0x550957(0xec)](),await Helper[_0x550957(0xd3)](0xbb8),await this[_0x550957(0xd6)]();}catch(_0x192cd9){throw _0x192cd9;}}async[a3_0x39ea5f(0x101)](_0x24d6c4){const _0x51d4ec=a3_0x39ea5f;try{this[_0x51d4ec(0xfd)]=new StoreSession(_0x24d6c4),this['client']=new TelegramClient(this['storeSession'],Config['TELEGRAM_APP_ID'],Config[_0x51d4ec(0xd2)],{'connectionRetries':0x5}),this['storeSession'][_0x51d4ec(0xec)](),await this['client'][_0x51d4ec(0xd4)]({'phoneNumber':async()=>await a3_0x3441bd[_0x51d4ec(0xe0)](_0x51d4ec(0xe3)),'password':async()=>await a3_0x3441bd[_0x51d4ec(0xe0)](_0x51d4ec(0xf7)),'phoneCode':async()=>await a3_0x3441bd[_0x51d4ec(0xe0)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x184ff7=>{const _0x5af15a=_0x51d4ec;console[_0x5af15a(0xf2)](_0x184ff7['message']);}}),console[_0x51d4ec(0xf2)]();}catch(_0x2b610b){throw _0x2b610b;}}async[a3_0x39ea5f(0x106)](){const _0x20edd6=a3_0x39ea5f;try{a3_0x15b3c3[_0x20edd6(0xd0)](_0x20edd6(0xcd)+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x20edd6(0x103)]==undefined){try{this[_0x20edd6(0x103)]=await this[_0x20edd6(0xd7)][_0x20edd6(0xd8)](_0x20edd6(0xe6));break;}catch(_0x531ff2){if(_0x531ff2 instanceof FloodWaitError){const _0x369be9=_0x531ff2['seconds'];a3_0x15b3c3[_0x20edd6(0xeb)](this[_0x20edd6(0xd7)]['session']['serverAddress']+_0x20edd6(0xda)+_0x531ff2),a3_0x15b3c3[_0x20edd6(0xd0)](this[_0x20edd6(0xd7)][_0x20edd6(0xff)][_0x20edd6(0xf6)]+_0x20edd6(0xcb)+_0x369be9+'s'),await Helper[_0x20edd6(0xd3)]((_0x369be9+0x3)*0x3e8);}else throw _0x531ff2;}}}catch(_0x4ae707){throw _0x4ae707;}}async[a3_0x39ea5f(0xdb)](){const _0x2aa5bd=a3_0x39ea5f;await this[_0x2aa5bd(0xd7)][_0x2aa5bd(0xdb)](),await this[_0x2aa5bd(0xd7)][_0x2aa5bd(0xcc)](),this[_0x2aa5bd(0x103)]=undefined,this['sessionName']=undefined;}async[a3_0x39ea5f(0xf3)](){const _0xe880fc=a3_0x39ea5f;try{const _0x306a57=await this[_0xe880fc(0xd7)]['invoke'](new Api[(_0xe880fc(0xdf))][(_0xe880fc(0xce))]({'peer':this[_0xe880fc(0x103)],'bot':this[_0xe880fc(0x103)],'fromBotMenu':!![],'url':this[_0xe880fc(0xf8)],'platform':_0xe880fc(0x104)}));a3_0x15b3c3[_0xe880fc(0xd0)]('Session\x20'+this['session']+'\x20-\x20Webview\x20Connected');const _0x47244d=_0x306a57[_0xe880fc(0xf8)];return Helper[_0xe880fc(0xed)](_0x47244d,0x3);}catch(_0x4bf178){throw _0x4bf178;}}}
const a3_0xa1f5e3=a3_0x2329;(function(_0x2b9050,_0x254111){const _0xc0bc58=a3_0x2329,_0x12233d=_0x2b9050();while(!![]){try{const _0x745293=parseInt(_0xc0bc58(0x1ca))/0x1+parseInt(_0xc0bc58(0x1d3))/0x2*(-parseInt(_0xc0bc58(0x1bc))/0x3)+parseInt(_0xc0bc58(0x1c5))/0x4*(-parseInt(_0xc0bc58(0x1bf))/0x5)+-parseInt(_0xc0bc58(0x1c4))/0x6+parseInt(_0xc0bc58(0x1af))/0x7+-parseInt(_0xc0bc58(0x1b5))/0x8*(-parseInt(_0xc0bc58(0x1ae))/0x9)+parseInt(_0xc0bc58(0x1e7))/0xa;if(_0x745293===_0x254111)break;else _0x12233d['push'](_0x12233d['shift']());}catch(_0x97341f){_0x12233d['push'](_0x12233d['shift']());}}}(a3_0x816f,0x1d77d));import a3_0x5f4eaf from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x42ad3b from'../utils/logger.js';function a3_0x816f(){const _0xaf79b2=['stringify','getSession','97131UavDog','peer','resetSession','10FUwNYM','message','delay','storeSession','onBoarding','821640ZPAJGg','347528jgKUdz','RequestWebView','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','messages','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','28870NCJgkW','serverAddress','\x20|\x20Sleep\x20','\x20-\x20Created','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','useSession','android','info','init','14AJTeYk','\x20-\x20Webview\x20Connected','sessionCreation','save','createDir','\x20-\x20Resolving\x20Peer','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','destroy','getEntity','Session\x20','TELEGRAM_APP_HASH','url','sessions','start','log','cowtopiabot','disconnect','https://cowtopia-prod.tonfarmer.com/','client','Invalid\x20input,\x20Please\x20try\x20again','3171080fSKVjS','indexOf','546651sseQoZ','1334116NXlDjB','error','sessionName','\x20|\x20FloodWait\x20','warn','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','16CnGAkb','session','TELEGRAM_APP_ID','text','length'];a3_0x816f=function(){return _0xaf79b2;};return a3_0x816f();}import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x2329(_0x4e68ee,_0x320acb){const _0x816fd0=a3_0x816f();return a3_0x2329=function(_0x2329e,_0x321c39){_0x2329e=_0x2329e-0x1ae;let _0x25eef6=_0x816fd0[_0x2329e];return _0x25eef6;},a3_0x2329(_0x4e68ee,_0x320acb);}import{Config}from'../../config/config.js';export class Telegram{[a3_0xa1f5e3(0x1c2)];constructor(){const _0x538c6a=a3_0xa1f5e3;this[_0x538c6a(0x1b1)]=_0x538c6a(0x1df),this[_0x538c6a(0x1de)]=_0x538c6a(0x1e4);}async[a3_0xa1f5e3(0x1d2)](){const _0x1465f2=a3_0xa1f5e3;try{await this['onBoarding']();}catch(_0x1032a3){console['log'](_0x1032a3),a3_0x42ad3b[_0x1465f2(0x1b0)](''+JSON[_0x1465f2(0x1ba)](_0x1032a3));throw _0x1032a3;}}async['onBoarding'](){const _0xa21174=a3_0xa1f5e3;try{let _0x54fdb3=_0xa21174(0x1c9);const _0x3a6ea8=Helper['getSession'](_0xa21174(0x1df));if(_0x3a6ea8[_0xa21174(0x1b9)]==0x0)_0x54fdb3+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:';else for(const _0x551361 of _0x3a6ea8){_0x54fdb3+='-\x20'+_0x551361+'\x0a';}_0x54fdb3+=_0xa21174(0x1ce),_0x54fdb3+=_0xa21174(0x1c7);const _0x5043e5=await a3_0x5f4eaf[_0xa21174(0x1b8)](_0x54fdb3);if(_0x5043e5==0x1)await this[_0xa21174(0x1d5)]();else{if(_0x5043e5==0x2)Helper[_0xa21174(0x1be)](this[_0xa21174(0x1b1)]),await Helper[_0xa21174(0x1c1)](0xbb8),await this[_0xa21174(0x1c3)]();else _0x5043e5==0x3?Helper[_0xa21174(0x1bb)](this[_0xa21174(0x1b1)])?.[_0xa21174(0x1b9)]==0x0&&(console[_0xa21174(0x1d1)]('You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first'),await this['onBoarding']()):(console[_0xa21174(0x1b0)](_0xa21174(0x1e6)),await this[_0xa21174(0x1c3)]());}}catch(_0x406ffe){throw _0x406ffe;}}async['sessionCreation'](){const _0x22220a=a3_0xa1f5e3;try{const _0x9d42f7=Helper[_0x22220a(0x1bb)](_0x22220a(0x1df));let _0x49de63='Your\x20session\x20List\x20:\x0a\x20\x0a';for(const _0x5d2d1b of _0x9d42f7){_0x49de63+=_0x9d42f7[_0x22220a(0x1e8)](_0x5d2d1b)+0x1+'.\x20'+_0x5d2d1b+'\x0a';}_0x9d42f7[_0x22220a(0x1b9)]==0x0?_0x49de63+=_0x22220a(0x1d9):_0x49de63+=_0x22220a(0x1b4);const _0x29dbcc=await a3_0x5f4eaf[_0x22220a(0x1b8)](_0x49de63);this[_0x22220a(0x1b1)]=Helper[_0x22220a(0x1d7)](_0x29dbcc),await this[_0x22220a(0x1cf)](this['sessionName']),await this['disconnect'](),a3_0x42ad3b[_0x22220a(0x1d1)](_0x22220a(0x1dc)+this[_0x22220a(0x1b1)]+'\x20-\x20Created'),console[_0x22220a(0x1e1)]('Session\x20'+this[_0x22220a(0x1b1)]+_0x22220a(0x1cd)),this[_0x22220a(0x1c2)]['save'](),await Helper[_0x22220a(0x1c1)](0xbb8),await this[_0x22220a(0x1d2)]();}catch(_0x242447){throw _0x242447;}}async[a3_0xa1f5e3(0x1cf)](_0x3da35c){const _0x313f1c=a3_0xa1f5e3;try{this[_0x313f1c(0x1c2)]=new StoreSession(_0x3da35c),this['client']=new TelegramClient(this[_0x313f1c(0x1c2)],Config[_0x313f1c(0x1b7)],Config[_0x313f1c(0x1dd)],{'connectionRetries':0x5}),this['storeSession'][_0x313f1c(0x1d6)](),await this[_0x313f1c(0x1e5)][_0x313f1c(0x1e0)]({'phoneNumber':async()=>await a3_0x5f4eaf[_0x313f1c(0x1b8)]('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a3_0x5f4eaf[_0x313f1c(0x1b8)]('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x5f4eaf[_0x313f1c(0x1b8)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x32b0b1=>{const _0x4f56bc=_0x313f1c;console[_0x4f56bc(0x1e1)](_0x32b0b1[_0x4f56bc(0x1c0)]);}}),console[_0x313f1c(0x1e1)]();}catch(_0x29cee3){throw _0x29cee3;}}async['resolvePeer'](){const _0x40b5e4=a3_0xa1f5e3;try{a3_0x42ad3b[_0x40b5e4(0x1d1)](_0x40b5e4(0x1dc)+this[_0x40b5e4(0x1b6)]+_0x40b5e4(0x1d8));while(this[_0x40b5e4(0x1bd)]==undefined){try{this[_0x40b5e4(0x1bd)]=await this[_0x40b5e4(0x1e5)][_0x40b5e4(0x1db)](_0x40b5e4(0x1e2));break;}catch(_0x50af23){if(_0x50af23 instanceof FloodWaitError){const _0x496fc9=_0x50af23['seconds'];a3_0x42ad3b[_0x40b5e4(0x1b3)](this[_0x40b5e4(0x1e5)][_0x40b5e4(0x1b6)][_0x40b5e4(0x1cb)]+_0x40b5e4(0x1b2)+_0x50af23),a3_0x42ad3b[_0x40b5e4(0x1d1)](this[_0x40b5e4(0x1e5)][_0x40b5e4(0x1b6)]['serverAddress']+_0x40b5e4(0x1cc)+_0x496fc9+'s'),await Helper[_0x40b5e4(0x1c1)]((_0x496fc9+0x3)*0x3e8);}else throw _0x50af23;}}}catch(_0x2a0184){throw _0x2a0184;}}async['disconnect'](){const _0x4232c4=a3_0xa1f5e3;await this[_0x4232c4(0x1e5)][_0x4232c4(0x1e3)](),await this['client'][_0x4232c4(0x1da)](),this[_0x4232c4(0x1bd)]=undefined,this[_0x4232c4(0x1b1)]=undefined;}async['initWebView'](){const _0x2f72cd=a3_0xa1f5e3;try{const _0x2474c4=await this['client']['invoke'](new Api[(_0x2f72cd(0x1c8))][(_0x2f72cd(0x1c6))]({'peer':this['peer'],'bot':this[_0x2f72cd(0x1bd)],'fromBotMenu':!![],'url':this[_0x2f72cd(0x1de)],'platform':_0x2f72cd(0x1d0)}));a3_0x42ad3b['info']('Session\x20'+this[_0x2f72cd(0x1b6)]+_0x2f72cd(0x1d4));const _0x59900b=_0x2474c4[_0x2f72cd(0x1de)];return Helper['getTelegramQuery'](_0x59900b,0x3);}catch(_0x54b0b3){throw _0x54b0b3;}}}
const a3_0x15940f=a3_0x357a;(function(_0x5a2729,_0x46a84a){const _0x34aa57=a3_0x357a,_0x535768=_0x5a2729();while(!![]){try{const _0x18dec6=parseInt(_0x34aa57(0x153))/0x1+parseInt(_0x34aa57(0x17e))/0x2*(parseInt(_0x34aa57(0x163))/0x3)+parseInt(_0x34aa57(0x15c))/0x4+-parseInt(_0x34aa57(0x15b))/0x5+-parseInt(_0x34aa57(0x180))/0x6*(-parseInt(_0x34aa57(0x171))/0x7)+-parseInt(_0x34aa57(0x181))/0x8*(-parseInt(_0x34aa57(0x175))/0x9)+-parseInt(_0x34aa57(0x165))/0xa;if(_0x18dec6===_0x46a84a)break;else _0x535768['push'](_0x535768['shift']());}catch(_0x1d1bb9){_0x535768['push'](_0x535768['shift']());}}}(a3_0x261f,0x51181));import a3_0x369268 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x7b2fca from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x357a(_0x293bf1,_0x61e2a5){const _0x261f8a=a3_0x261f();return a3_0x357a=function(_0x357a6a,_0xc16d4f){_0x357a6a=_0x357a6a-0x14a;let _0x34cab1=_0x261f8a[_0x357a6a];return _0x34cab1;},a3_0x357a(_0x293bf1,_0x61e2a5);}import{Config}from'../../config/config.js';export class Telegram{[a3_0x15940f(0x157)];constructor(){const _0x446bf5=a3_0x15940f;this['sessionName']=_0x446bf5(0x173),this['url']='https://cowtopia-prod.tonfarmer.com/';}async[a3_0x15940f(0x162)](){const _0xa557a2=a3_0x15940f;try{await this['onBoarding']();}catch(_0x5238ab){console[_0xa557a2(0x156)](_0x5238ab),a3_0x7b2fca[_0xa557a2(0x16c)](''+JSON[_0xa557a2(0x15d)](_0x5238ab));throw _0x5238ab;}}async['onBoarding'](){const _0x442baf=a3_0x15940f;try{let _0x2e88bc=_0x442baf(0x158);const _0x53d161=Helper[_0x442baf(0x16e)](_0x442baf(0x173));if(_0x53d161[_0x442baf(0x150)]==0x0)_0x2e88bc+=_0x442baf(0x17d);else for(const _0x3e39b1 of _0x53d161){_0x2e88bc+='-\x20'+_0x3e39b1+'\x0a';}_0x2e88bc+=_0x442baf(0x155),_0x2e88bc+=_0x442baf(0x167);const _0x30a94f=await a3_0x369268[_0x442baf(0x154)](_0x2e88bc);if(_0x30a94f==0x1)await this[_0x442baf(0x16d)]();else{if(_0x30a94f==0x2)Helper[_0x442baf(0x166)](this[_0x442baf(0x176)]),await Helper[_0x442baf(0x14b)](0xbb8),await this[_0x442baf(0x182)]();else _0x30a94f==0x3?Helper[_0x442baf(0x16e)](this[_0x442baf(0x176)])?.[_0x442baf(0x150)]==0x0&&(console[_0x442baf(0x174)](_0x442baf(0x169)),await this[_0x442baf(0x182)]()):(console[_0x442baf(0x16c)](_0x442baf(0x14d)),await this[_0x442baf(0x182)]());}}catch(_0xe9f696){throw _0xe9f696;}}async['sessionCreation'](){const _0x50a016=a3_0x15940f;try{const _0x193df9=Helper[_0x50a016(0x16e)](_0x50a016(0x173));let _0x369cac=_0x50a016(0x17f);for(const _0x371830 of _0x193df9){_0x369cac+=_0x193df9['indexOf'](_0x371830)+0x1+'.\x20'+_0x371830+'\x0a';}_0x193df9[_0x50a016(0x150)]==0x0?_0x369cac+=_0x50a016(0x17d):_0x369cac+=_0x50a016(0x151);const _0x50d8e8=await a3_0x369268[_0x50a016(0x154)](_0x369cac);this['sessionName']=Helper[_0x50a016(0x164)](_0x50d8e8),await this[_0x50a016(0x17a)](this[_0x50a016(0x176)]),await this[_0x50a016(0x152)](),a3_0x7b2fca['info']('Session\x20'+this[_0x50a016(0x176)]+_0x50a016(0x160)),console[_0x50a016(0x156)](_0x50a016(0x170)+this[_0x50a016(0x176)]+_0x50a016(0x160)),this[_0x50a016(0x157)]['save'](),await Helper[_0x50a016(0x14b)](0xbb8),await this[_0x50a016(0x162)]();}catch(_0x3cf2b1){throw _0x3cf2b1;}}async[a3_0x15940f(0x17a)](_0x15cd75){const _0xeaceb3=a3_0x15940f;try{this[_0xeaceb3(0x157)]=new StoreSession(_0x15cd75),this[_0xeaceb3(0x14e)]=new TelegramClient(this[_0xeaceb3(0x157)],Config['TELEGRAM_APP_ID'],Config[_0xeaceb3(0x17c)],{'connectionRetries':0x5}),this[_0xeaceb3(0x157)][_0xeaceb3(0x15f)](),await this['client'][_0xeaceb3(0x172)]({'phoneNumber':async()=>await a3_0x369268[_0xeaceb3(0x154)](_0xeaceb3(0x16f)),'password':async()=>await a3_0x369268[_0xeaceb3(0x154)]('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x369268[_0xeaceb3(0x154)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x50b51f=>{const _0x3399d0=_0xeaceb3;console[_0x3399d0(0x156)](_0x50b51f[_0x3399d0(0x16a)]);}}),console[_0xeaceb3(0x156)]();}catch(_0x303804){throw _0x303804;}}async[a3_0x15940f(0x17b)](){const _0x593b2a=a3_0x15940f;try{a3_0x7b2fca[_0x593b2a(0x174)](_0x593b2a(0x170)+this[_0x593b2a(0x178)]+_0x593b2a(0x15a));while(this['peer']==undefined){try{this[_0x593b2a(0x14c)]=await this[_0x593b2a(0x14e)]['getEntity']('cowtopiabot');break;}catch(_0x3c51a3){if(_0x3c51a3 instanceof FloodWaitError){const _0x9728a5=_0x3c51a3['seconds'];a3_0x7b2fca[_0x593b2a(0x14f)](this[_0x593b2a(0x14e)][_0x593b2a(0x178)][_0x593b2a(0x177)]+'\x20|\x20FloodWait\x20'+_0x3c51a3),a3_0x7b2fca[_0x593b2a(0x174)](this[_0x593b2a(0x14e)]['session'][_0x593b2a(0x177)]+'\x20|\x20Sleep\x20'+_0x9728a5+'s'),await Helper[_0x593b2a(0x14b)]((_0x9728a5+0x3)*0x3e8);}else throw _0x3c51a3;}}}catch(_0x41aa9c){throw _0x41aa9c;}}async[a3_0x15940f(0x152)](){const _0x5a7dad=a3_0x15940f;await this[_0x5a7dad(0x14e)]['disconnect'](),await this['client'][_0x5a7dad(0x14a)](),this['peer']=undefined,this[_0x5a7dad(0x176)]=undefined;}async[a3_0x15940f(0x179)](){const _0x24652d=a3_0x15940f;try{const _0x1a36f7=await this['client']['invoke'](new Api[(_0x24652d(0x16b))][(_0x24652d(0x168))]({'peer':this[_0x24652d(0x14c)],'bot':this['peer'],'fromBotMenu':!![],'url':this[_0x24652d(0x161)],'platform':'android'}));a3_0x7b2fca['info']('Session\x20'+this[_0x24652d(0x178)]+_0x24652d(0x159));const _0x117664=_0x1a36f7[_0x24652d(0x161)];return Helper[_0x24652d(0x15e)](_0x117664,0x3);}catch(_0x438a42){throw _0x438a42;}}}function a3_0x261f(){const _0x2a0922=['log','storeSession','Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','\x20-\x20Webview\x20Connected','\x20-\x20Resolving\x20Peer','1988065sDihjs','26180RSxYfd','stringify','getTelegramQuery','save','\x20-\x20Created','url','init','3wdfafb','createDir','8988400tTqdzN','resetSession','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','RequestWebView','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','message','messages','error','sessionCreation','getSession','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','Session\x20','21oIbsjP','start','sessions','info','2075076VhCsnF','sessionName','serverAddress','session','initWebView','useSession','resolvePeer','TELEGRAM_APP_HASH','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','1144958YmIDkh','Your\x20session\x20List\x20:\x0a\x20\x0a','689358rvNlNU','8aDUhue','onBoarding','destroy','delay','peer','Invalid\x20input,\x20Please\x20try\x20again','client','warn','length','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','disconnect','474347XxBBWZ','text','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a'];a3_0x261f=function(){return _0x2a0922;};return a3_0x261f();}
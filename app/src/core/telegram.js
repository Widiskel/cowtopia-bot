const a3_0x2e7715=a3_0x1118;(function(_0x2a5818,_0x497925){const _0x51e41c=a3_0x1118,_0x1c028d=_0x2a5818();while(!![]){try{const _0x238449=parseInt(_0x51e41c(0x147))/0x1*(parseInt(_0x51e41c(0x135))/0x2)+-parseInt(_0x51e41c(0x15e))/0x3*(-parseInt(_0x51e41c(0x134))/0x4)+-parseInt(_0x51e41c(0x146))/0x5*(parseInt(_0x51e41c(0x165))/0x6)+-parseInt(_0x51e41c(0x15d))/0x7*(-parseInt(_0x51e41c(0x159))/0x8)+parseInt(_0x51e41c(0x133))/0x9*(parseInt(_0x51e41c(0x141))/0xa)+parseInt(_0x51e41c(0x150))/0xb+parseInt(_0x51e41c(0x140))/0xc*(-parseInt(_0x51e41c(0x158))/0xd);if(_0x238449===_0x497925)break;else _0x1c028d['push'](_0x1c028d['shift']());}catch(_0x562a5b){_0x1c028d['push'](_0x1c028d['shift']());}}}(a3_0x44b4,0xd87f1));import a3_0x4475a6 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x44b4(){const _0x48885e=['12666888iLtTLj','14669010mhBeVg','Session\x20','start','messages','\x20-\x20Created','1432905qTxCVV','1RxwwDW','disconnect','init','text','https://cowtopia-prod.tonfarmer.com/','sessionCreation','save','onBoarding','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','8480538kGZamn','client','peer','storeSession','\x0a\x20\x0aYou\x20alreay\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','session','invoke','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','39mQQwXw','136DJVkic','\x20-\x20Webview\x20Connected','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','Your\x20session\x20List\x20:\x0a\x20\x0a','609434hqxQlf','831RgRVGq','error','message','sessionName','info','\x0a\x20\x0a1.\x20Create\x20Session.\x20\x0a2.\x20Reset\x20Sessions\x20\x0a3.\x20Start\x20Bot\x20\x0a\x20\x0aInput\x20your\x20choice\x20:','RequestWebView','6xkYjCj','log','Invalid\x20input,\x20Please\x20try\x20again','serverAddress','destroy','resolvePeer','indexOf','sessions','url','getTelegramQuery','9INmvjO','6424tmWfUw','354594EyoDit','android','seconds','delay','You\x20don\x27t\x20have\x20any\x20sessions,\x20please\x20create\x20first','Enter\x20your\x20Telegram\x20Password?','length','getSession','TELEGRAM_APP_HASH','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','warn'];a3_0x44b4=function(){return _0x48885e;};return a3_0x44b4();}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x1dfb0c from'../utils/logger.js';function a3_0x1118(_0x10a18c,_0x492481){const _0x44b403=a3_0x44b4();return a3_0x1118=function(_0x1118b9,_0x220c89){_0x1118b9=_0x1118b9-0x12f;let _0x48a473=_0x44b403[_0x1118b9];return _0x48a473;},a3_0x1118(_0x10a18c,_0x492481);}import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';export class Telegram{[a3_0x2e7715(0x153)];constructor(){const _0x5d2f6b=a3_0x2e7715;this[_0x5d2f6b(0x161)]='sessions',this['url']=_0x5d2f6b(0x14b);}async['init'](){const _0xb1b720=a3_0x2e7715;try{await this[_0xb1b720(0x14e)]();}catch(_0xbb389d){console[_0xb1b720(0x166)](_0xbb389d),a3_0x1dfb0c[_0xb1b720(0x15f)](''+JSON['stringify'](_0xbb389d));throw _0xbb389d;}}async[a3_0x2e7715(0x14e)](){const _0x55f105=a3_0x2e7715;try{let _0x5c669f='Welcome\x20to\x20Cowtopia\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a';const _0x22ad91=Helper[_0x55f105(0x13c)](_0x55f105(0x130));if(_0x22ad91[_0x55f105(0x13b)]==0x0)_0x5c669f+=_0x55f105(0x157);else for(const _0x33414e of _0x22ad91){_0x5c669f+='-\x20'+_0x33414e+'\x0a';}_0x5c669f+=_0x55f105(0x14f),_0x5c669f+=_0x55f105(0x163);const _0x3baec0=await a3_0x4475a6['text'](_0x5c669f);if(_0x3baec0==0x1)await this[_0x55f105(0x14c)]();else{if(_0x3baec0==0x2)Helper['resetSession'](this[_0x55f105(0x161)]),await Helper[_0x55f105(0x138)](0xbb8),await this[_0x55f105(0x14e)]();else _0x3baec0==0x3?Helper[_0x55f105(0x13c)](this[_0x55f105(0x161)])?.[_0x55f105(0x13b)]==0x0&&(console[_0x55f105(0x162)](_0x55f105(0x139)),await this[_0x55f105(0x14e)]()):(console['error'](_0x55f105(0x167)),await this[_0x55f105(0x14e)]());}}catch(_0x16556e){throw _0x16556e;}}async['sessionCreation'](){const _0x4a401c=a3_0x2e7715;try{const _0x1d464c=Helper['getSession'](_0x4a401c(0x130));let _0x449bda=_0x4a401c(0x15c);for(const _0x5efc42 of _0x1d464c){_0x449bda+=_0x1d464c[_0x4a401c(0x12f)](_0x5efc42)+0x1+'.\x20'+_0x5efc42+'\x0a';}_0x1d464c[_0x4a401c(0x13b)]==0x0?_0x449bda+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x449bda+=_0x4a401c(0x154);const _0xf2aaf4=await a3_0x4475a6[_0x4a401c(0x14a)](_0x449bda);this[_0x4a401c(0x161)]=Helper['createDir'](_0xf2aaf4),await this['useSession'](this[_0x4a401c(0x161)]),await this[_0x4a401c(0x148)](),a3_0x1dfb0c[_0x4a401c(0x162)](_0x4a401c(0x142)+this[_0x4a401c(0x161)]+_0x4a401c(0x145)),console[_0x4a401c(0x166)](_0x4a401c(0x142)+this['sessionName']+'\x20-\x20Created'),this[_0x4a401c(0x153)]['save'](),await Helper['delay'](0xbb8),await this[_0x4a401c(0x149)]();}catch(_0x10ef81){throw _0x10ef81;}}async['useSession'](_0x35df3f){const _0x221594=a3_0x2e7715;try{this[_0x221594(0x153)]=new StoreSession(_0x35df3f),this[_0x221594(0x151)]=new TelegramClient(this[_0x221594(0x153)],Config['TELEGRAM_APP_ID'],Config[_0x221594(0x13d)],{'connectionRetries':0x5}),this['storeSession'][_0x221594(0x14d)](),await this[_0x221594(0x151)][_0x221594(0x143)]({'phoneNumber':async()=>await a3_0x4475a6[_0x221594(0x14a)](_0x221594(0x15b)),'password':async()=>await a3_0x4475a6[_0x221594(0x14a)](_0x221594(0x13a)),'phoneCode':async()=>await a3_0x4475a6[_0x221594(0x14a)](_0x221594(0x13e)),'onError':_0x54d365=>{const _0x3de78e=_0x221594;console[_0x3de78e(0x166)](_0x54d365[_0x3de78e(0x160)]);}}),console['log']();}catch(_0x2796f0){throw _0x2796f0;}}async[a3_0x2e7715(0x16a)](){const _0x394159=a3_0x2e7715;try{a3_0x1dfb0c[_0x394159(0x162)](_0x394159(0x142)+this[_0x394159(0x155)]+'\x20-\x20Resolving\x20Peer');while(this[_0x394159(0x152)]==undefined){try{this[_0x394159(0x152)]=await this[_0x394159(0x151)]['getEntity']('cowtopiabot');break;}catch(_0x1733e1){if(_0x1733e1 instanceof FloodWaitError){const _0x6f787=_0x1733e1[_0x394159(0x137)];a3_0x1dfb0c[_0x394159(0x13f)](this[_0x394159(0x151)][_0x394159(0x155)]['serverAddress']+'\x20|\x20FloodWait\x20'+_0x1733e1),a3_0x1dfb0c[_0x394159(0x162)](this[_0x394159(0x151)][_0x394159(0x155)][_0x394159(0x168)]+'\x20|\x20Sleep\x20'+_0x6f787+'s'),await Helper['delay']((_0x6f787+0x3)*0x3e8);}else throw _0x1733e1;}}}catch(_0x37f5b8){throw _0x37f5b8;}}async['disconnect'](){const _0x4033da=a3_0x2e7715;await this['client']['disconnect'](),await this[_0x4033da(0x151)][_0x4033da(0x169)](),this[_0x4033da(0x152)]=undefined,this[_0x4033da(0x161)]=undefined;}async['initWebView'](){const _0x53bf50=a3_0x2e7715;try{const _0x29a85e=await this[_0x53bf50(0x151)][_0x53bf50(0x156)](new Api[(_0x53bf50(0x144))][(_0x53bf50(0x164))]({'peer':this[_0x53bf50(0x152)],'bot':this[_0x53bf50(0x152)],'fromBotMenu':!![],'url':this[_0x53bf50(0x131)],'platform':_0x53bf50(0x136)}));a3_0x1dfb0c['info'](_0x53bf50(0x142)+this[_0x53bf50(0x155)]+_0x53bf50(0x15a));const _0x291f08=_0x29a85e[_0x53bf50(0x131)];return Helper[_0x53bf50(0x132)](_0x291f08,0x3);}catch(_0x19ef1e){throw _0x19ef1e;}}}